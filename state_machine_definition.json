{"flattenDefinition":{"Serialize Image Data":{"RawDefinition":"{\n  \"Type\": \"Task\",\n  \"Resource\": \"arn:aws:states:::lambda:invoke\",\n  \"OutputPath\": \"$.Payload\",\n  \"Parameters\": {\n    \"Payload.$\": \"$\",\n    \"FunctionName\": \"arn:aws:lambda:us-east-1:009079148196:function:serializeImageData:$LATEST\"\n  },\n  \"Retry\": [\n    {\n      \"ErrorEquals\": [\n        \"Lambda.ServiceException\",\n        \"Lambda.AWSLambdaException\",\n        \"Lambda.SdkClientException\",\n        \"Lambda.TooManyRequestsException\"\n      ],\n      \"IntervalSeconds\": 1,\n      \"MaxAttempts\": 3,\n      \"BackoffRate\": 2\n    }\n  ],\n  \"Next\": \"Classify Image Data\"\n}","Name":"Serialize Image Data","Type":"Task","Next":"Classify Image Data","OutputPath":"$.Payload","Resource":"arn:aws:states:::lambda:invoke","Parameters":{"Payload.$":"$","FunctionName":"arn:aws:lambda:us-east-1:009079148196:function:serializeImageData:$LATEST"},"StartingState":true,"Parent":null,"Parallel":{"BranchNumber":null,"BranchCount":null},"RoleArn.$":null,"ExternalId.$":null},"Classify Image Data":{"RawDefinition":"{\n  \"Type\": \"Task\",\n  \"Resource\": \"arn:aws:states:::lambda:invoke\",\n  \"OutputPath\": \"$.Payload\",\n  \"Parameters\": {\n    \"Payload.$\": \"$\",\n    \"FunctionName\": \"arn:aws:lambda:us-east-1:009079148196:function:classifyImageData:$LATEST\"\n  },\n  \"Retry\": [\n    {\n      \"ErrorEquals\": [\n        \"Lambda.ServiceException\",\n        \"Lambda.AWSLambdaException\",\n        \"Lambda.SdkClientException\",\n        \"Lambda.TooManyRequestsException\"\n      ],\n      \"IntervalSeconds\": 1,\n      \"MaxAttempts\": 3,\n      \"BackoffRate\": 2\n    }\n  ],\n  \"Next\": \"Filter Inferences\"\n}","Name":"Classify Image Data","Type":"Task","Next":"Filter Inferences","OutputPath":"$.Payload","Resource":"arn:aws:states:::lambda:invoke","Parameters":{"Payload.$":"$","FunctionName":"arn:aws:lambda:us-east-1:009079148196:function:classifyImageData:$LATEST"},"StartingState":false,"Parent":null,"Parallel":{"BranchNumber":null,"BranchCount":null},"RoleArn.$":null,"ExternalId.$":null},"Filter Inferences":{"RawDefinition":"{\n  \"Type\": \"Task\",\n  \"Resource\": \"arn:aws:states:::lambda:invoke\",\n  \"OutputPath\": \"$.Payload\",\n  \"Parameters\": {\n    \"Payload.$\": \"$\",\n    \"FunctionName\": \"arn:aws:lambda:us-east-1:009079148196:function:filterInferences:$LATEST\"\n  },\n  \"Retry\": [\n    {\n      \"ErrorEquals\": [\n        \"Lambda.ServiceException\",\n        \"Lambda.AWSLambdaException\",\n        \"Lambda.SdkClientException\",\n        \"Lambda.TooManyRequestsException\"\n      ],\n      \"IntervalSeconds\": 1,\n      \"MaxAttempts\": 3,\n      \"BackoffRate\": 2\n    }\n  ],\n  \"End\": true\n}","Name":"Filter Inferences","Type":"Task","OutputPath":"$.Payload","Resource":"arn:aws:states:::lambda:invoke","Parameters":{"Payload.$":"$","FunctionName":"arn:aws:lambda:us-east-1:009079148196:function:filterInferences:$LATEST"},"End":true,"StartingState":false,"Parent":null,"Parallel":{"BranchNumber":null,"BranchCount":null},"RoleArn.$":null,"ExternalId.$":null}},"execution":{"$metadata":{"httpStatusCode":200,"requestId":"7a4b5bc4-796b-4cd3-ba21-ec1f99346ff0","attempts":1,"totalRetryDelay":0},"executionArn":"arn:aws:states:us-east-1:009079148196:execution:MyStateMachine-2whmr2d5a:6c1e42fd-42a9-4984-a988-cf286dd4413c","input":"{\"image_data\":\"\",\"s3_bucket\":\"sagemaker-us-east-1-009079148196\",\"s3_key\":\"test/bicycle_s_000513.png\"}","inputDetails":{"__type":"com.amazonaws.swf.base.model#CloudWatchEventsExecutionDataDetails","included":true},"name":"6c1e42fd-42a9-4984-a988-cf286dd4413c","redriveCount":0,"redriveStatus":"NOT_REDRIVABLE","redriveStatusReason":"Execution is RUNNING and cannot be redriven","startDate":"2024-09-20T18:33:34.021Z","stateMachineArn":"arn:aws:states:us-east-1:009079148196:stateMachine:MyStateMachine-2whmr2d5a","status":"RUNNING"},"historyHash":{"1":{"executionStartedEventDetails":{"input":"{\"image_data\":\"\",\"s3_bucket\":\"sagemaker-us-east-1-009079148196\",\"s3_key\":\"test/bicycle_s_000513.png\"}","inputDetails":{"truncated":false},"roleArn":"arn:aws:iam::009079148196:role/service-role/StepFunctions-MyStateMachine-2whmr2d5a-role-dud7l3suq"},"id":1,"previousEventId":0,"timestamp":"2024-09-20T18:33:34.021Z","type":"ExecutionStarted","redriveId":0},"2":{"id":2,"previousEventId":0,"stateEnteredEventDetails":{"input":"{\"image_data\":\"\",\"s3_bucket\":\"sagemaker-us-east-1-009079148196\",\"s3_key\":\"test/bicycle_s_000513.png\"}","inputDetails":{"truncated":false},"name":"Serialize Image Data"},"timestamp":"2024-09-20T18:33:34.065Z","type":"TaskStateEntered","redriveId":0,"stepName":"Serialize Image Data"},"3":{"id":3,"previousEventId":2,"taskScheduledEventDetails":{"parameters":{"FunctionName":"arn:aws:lambda:us-east-1:009079148196:function:serializeImageData:$LATEST","Payload":{"image_data":"","s3_bucket":"sagemaker-us-east-1-009079148196","s3_key":"test/bicycle_s_000513.png"}},"region":"us-east-1","resource":"invoke","resourceType":"lambda"},"timestamp":"2024-09-20T18:33:34.065Z","type":"TaskScheduled","redriveId":0,"stepName":"Serialize Image Data"},"4":{"id":4,"previousEventId":3,"taskStartedEventDetails":{"resource":"invoke","resourceType":"lambda"},"timestamp":"2024-09-20T18:33:34.129Z","type":"TaskStarted","redriveId":0,"stepName":"Serialize Image Data"},"5":{"id":5,"previousEventId":4,"taskFailedEventDetails":{"cause":"{\"errorMessage\":\"An error occurred (403) when calling the HeadObject operation: Forbidden\",\"errorType\":\"ClientError\",\"stackTrace\":[\"  File \\\"/var/task/lambda_function.py\\\", line 15, in lambda_handler\\n    s3.download_file(bucket, key, \\\"/tmp/image.png\\\")\\n\",\"  File \\\"/var/runtime/boto3/s3/inject.py\\\", line 192, in download_file\\n    return transfer.download_file(\\n\",\"  File \\\"/var/runtime/boto3/s3/transfer.py\\\", line 406, in download_file\\n    future.result()\\n\",\"  File \\\"/var/runtime/s3transfer/futures.py\\\", line 103, in result\\n    return self._coordinator.result()\\n\",\"  File \\\"/var/runtime/s3transfer/futures.py\\\", line 266, in result\\n    raise self._exception\\n\",\"  File \\\"/var/runtime/s3transfer/tasks.py\\\", line 269, in _main\\n    self._submit(transfer_future=transfer_future, **kwargs)\\n\",\"  File \\\"/var/runtime/s3transfer/download.py\\\", line 354, in _submit\\n    response = client.head_object(\\n\",\"  File \\\"/var/runtime/botocore/client.py\\\", line 565, in _api_call\\n    return self._make_api_call(operation_name, kwargs)\\n\",\"  File \\\"/var/runtime/botocore/client.py\\\", line 1021, in _make_api_call\\n    raise error_class(parsed_response, operation_name)\\n\"]}","error":"ClientError","resource":"invoke","resourceType":"lambda"},"timestamp":"2024-09-20T18:33:35.234Z","type":"TaskFailed","redriveId":0,"stepName":"Serialize Image Data"},"6":{"executionFailedEventDetails":{"cause":"{\"errorMessage\":\"An error occurred (403) when calling the HeadObject operation: Forbidden\",\"errorType\":\"ClientError\",\"stackTrace\":[\"  File \\\"/var/task/lambda_function.py\\\", line 15, in lambda_handler\\n    s3.download_file(bucket, key, \\\"/tmp/image.png\\\")\\n\",\"  File \\\"/var/runtime/boto3/s3/inject.py\\\", line 192, in download_file\\n    return transfer.download_file(\\n\",\"  File \\\"/var/runtime/boto3/s3/transfer.py\\\", line 406, in download_file\\n    future.result()\\n\",\"  File \\\"/var/runtime/s3transfer/futures.py\\\", line 103, in result\\n    return self._coordinator.result()\\n\",\"  File \\\"/var/runtime/s3transfer/futures.py\\\", line 266, in result\\n    raise self._exception\\n\",\"  File \\\"/var/runtime/s3transfer/tasks.py\\\", line 269, in _main\\n    self._submit(transfer_future=transfer_future, **kwargs)\\n\",\"  File \\\"/var/runtime/s3transfer/download.py\\\", line 354, in _submit\\n    response = client.head_object(\\n\",\"  File \\\"/var/runtime/botocore/client.py\\\", line 565, in _api_call\\n    return self._make_api_call(operation_name, kwargs)\\n\",\"  File \\\"/var/runtime/botocore/client.py\\\", line 1021, in _make_api_call\\n    raise error_class(parsed_response, operation_name)\\n\"]}","error":"ClientError"},"id":6,"previousEventId":5,"timestamp":"2024-09-20T18:33:35.311Z","type":"ExecutionFailed","redriveId":0}},"stateTransition":{"iteration":0,"transition":{"stepType":"Execution","stepName":"Execution","status":2,"firstId":1,"lastId":6,"firstTimestamp":1726857214021,"lastTimestamp":1726857215311,"dataFlow":{"failDetails":{"cause":"{\"errorMessage\":\"An error occurred (403) when calling the HeadObject operation: Forbidden\",\"errorType\":\"ClientError\",\"stackTrace\":[\"  File \\\"/var/task/lambda_function.py\\\", line 15, in lambda_handler\\n    s3.download_file(bucket, key, \\\"/tmp/image.png\\\")\\n\",\"  File \\\"/var/runtime/boto3/s3/inject.py\\\", line 192, in download_file\\n    return transfer.download_file(\\n\",\"  File \\\"/var/runtime/boto3/s3/transfer.py\\\", line 406, in download_file\\n    future.result()\\n\",\"  File \\\"/var/runtime/s3transfer/futures.py\\\", line 103, in result\\n    return self._coordinator.result()\\n\",\"  File \\\"/var/runtime/s3transfer/futures.py\\\", line 266, in result\\n    raise self._exception\\n\",\"  File \\\"/var/runtime/s3transfer/tasks.py\\\", line 269, in _main\\n    self._submit(transfer_future=transfer_future, **kwargs)\\n\",\"  File \\\"/var/runtime/s3transfer/download.py\\\", line 354, in _submit\\n    response = client.head_object(\\n\",\"  File \\\"/var/runtime/botocore/client.py\\\", line 565, in _api_call\\n    return self._make_api_call(operation_name, kwargs)\\n\",\"  File \\\"/var/runtime/botocore/client.py\\\", line 1021, in _make_api_call\\n    raise error_class(parsed_response, operation_name)\\n\"]}","error":"ClientError"},"input":"{\"image_data\":\"\",\"s3_bucket\":\"sagemaker-us-east-1-009079148196\",\"s3_key\":\"test/bicycle_s_000513.png\"}"},"loading":false,"loaded":false,"failed":0,"events":[],"tries":[],"redriveCount":0,"lastProcessedStep":"[\"Serialize Image Data\"]","lastFailedStep":"[\"Serialize Image Data\"]"},"children":{"Serialize Image Data":{"path":"[\"Serialize Image Data\"]","iteration":0,"transition":{"stepType":"Task","stepName":"Serialize Image Data","status":2,"firstId":2,"lastId":5,"firstTimestamp":1726857214065,"lastTimestamp":1726857215234,"tries":[{"status":2,"startTimestamp":1726857214065,"dataFlow":{"failDetails":{"cause":"{\"errorMessage\":\"An error occurred (403) when calling the HeadObject operation: Forbidden\",\"errorType\":\"ClientError\",\"stackTrace\":[\"  File \\\"/var/task/lambda_function.py\\\", line 15, in lambda_handler\\n    s3.download_file(bucket, key, \\\"/tmp/image.png\\\")\\n\",\"  File \\\"/var/runtime/boto3/s3/inject.py\\\", line 192, in download_file\\n    return transfer.download_file(\\n\",\"  File \\\"/var/runtime/boto3/s3/transfer.py\\\", line 406, in download_file\\n    future.result()\\n\",\"  File \\\"/var/runtime/s3transfer/futures.py\\\", line 103, in result\\n    return self._coordinator.result()\\n\",\"  File \\\"/var/runtime/s3transfer/futures.py\\\", line 266, in result\\n    raise self._exception\\n\",\"  File \\\"/var/runtime/s3transfer/tasks.py\\\", line 269, in _main\\n    self._submit(transfer_future=transfer_future, **kwargs)\\n\",\"  File \\\"/var/runtime/s3transfer/download.py\\\", line 354, in _submit\\n    response = client.head_object(\\n\",\"  File \\\"/var/runtime/botocore/client.py\\\", line 565, in _api_call\\n    return self._make_api_call(operation_name, kwargs)\\n\",\"  File \\\"/var/runtime/botocore/client.py\\\", line 1021, in _make_api_call\\n    raise error_class(parsed_response, operation_name)\\n\"]}","error":"ClientError","failedEventId":5}},"isRedriveEvent":false,"endTimestamp":1726857215234}],"dataFlow":{"input":"{\"image_data\":\"\",\"s3_bucket\":\"sagemaker-us-east-1-009079148196\",\"s3_key\":\"test/bicycle_s_000513.png\"}","failDetails":{"cause":"{\"errorMessage\":\"An error occurred (403) when calling the HeadObject operation: Forbidden\",\"errorType\":\"ClientError\",\"stackTrace\":[\"  File \\\"/var/task/lambda_function.py\\\", line 15, in lambda_handler\\n    s3.download_file(bucket, key, \\\"/tmp/image.png\\\")\\n\",\"  File \\\"/var/runtime/boto3/s3/inject.py\\\", line 192, in download_file\\n    return transfer.download_file(\\n\",\"  File \\\"/var/runtime/boto3/s3/transfer.py\\\", line 406, in download_file\\n    future.result()\\n\",\"  File \\\"/var/runtime/s3transfer/futures.py\\\", line 103, in result\\n    return self._coordinator.result()\\n\",\"  File \\\"/var/runtime/s3transfer/futures.py\\\", line 266, in result\\n    raise self._exception\\n\",\"  File \\\"/var/runtime/s3transfer/tasks.py\\\", line 269, in _main\\n    self._submit(transfer_future=transfer_future, **kwargs)\\n\",\"  File \\\"/var/runtime/s3transfer/download.py\\\", line 354, in _submit\\n    response = client.head_object(\\n\",\"  File \\\"/var/runtime/botocore/client.py\\\", line 565, in _api_call\\n    return self._make_api_call(operation_name, kwargs)\\n\",\"  File \\\"/var/runtime/botocore/client.py\\\", line 1021, in _make_api_call\\n    raise error_class(parsed_response, operation_name)\\n\"]}","error":"ClientError","failedEventId":5}},"events":[{"id":2,"previousEventId":0,"stateEnteredEventDetails":{"input":"{\"image_data\":\"\",\"s3_bucket\":\"sagemaker-us-east-1-009079148196\",\"s3_key\":\"test/bicycle_s_000513.png\"}","inputDetails":{"truncated":false},"name":"Serialize Image Data"},"timestamp":"2024-09-20T18:33:34.065Z","type":"TaskStateEntered","redriveId":0,"stepName":"Serialize Image Data"},{"id":3,"previousEventId":2,"taskScheduledEventDetails":{"parameters":{"FunctionName":"arn:aws:lambda:us-east-1:009079148196:function:serializeImageData:$LATEST","Payload":{"image_data":"","s3_bucket":"sagemaker-us-east-1-009079148196","s3_key":"test/bicycle_s_000513.png"}},"region":"us-east-1","resource":"invoke","resourceType":"lambda"},"timestamp":"2024-09-20T18:33:34.065Z","type":"TaskScheduled","redriveId":0,"stepName":"Serialize Image Data"},{"id":4,"previousEventId":3,"taskStartedEventDetails":{"resource":"invoke","resourceType":"lambda"},"timestamp":"2024-09-20T18:33:34.129Z","type":"TaskStarted","redriveId":0,"stepName":"Serialize Image Data"},{"id":5,"previousEventId":4,"taskFailedEventDetails":{"cause":"{\"errorMessage\":\"An error occurred (403) when calling the HeadObject operation: Forbidden\",\"errorType\":\"ClientError\",\"stackTrace\":[\"  File \\\"/var/task/lambda_function.py\\\", line 15, in lambda_handler\\n    s3.download_file(bucket, key, \\\"/tmp/image.png\\\")\\n\",\"  File \\\"/var/runtime/boto3/s3/inject.py\\\", line 192, in download_file\\n    return transfer.download_file(\\n\",\"  File \\\"/var/runtime/boto3/s3/transfer.py\\\", line 406, in download_file\\n    future.result()\\n\",\"  File \\\"/var/runtime/s3transfer/futures.py\\\", line 103, in result\\n    return self._coordinator.result()\\n\",\"  File \\\"/var/runtime/s3transfer/futures.py\\\", line 266, in result\\n    raise self._exception\\n\",\"  File \\\"/var/runtime/s3transfer/tasks.py\\\", line 269, in _main\\n    self._submit(transfer_future=transfer_future, **kwargs)\\n\",\"  File \\\"/var/runtime/s3transfer/download.py\\\", line 354, in _submit\\n    response = client.head_object(\\n\",\"  File \\\"/var/runtime/botocore/client.py\\\", line 565, in _api_call\\n    return self._make_api_call(operation_name, kwargs)\\n\",\"  File \\\"/var/runtime/botocore/client.py\\\", line 1021, in _make_api_call\\n    raise error_class(parsed_response, operation_name)\\n\"]}","error":"ClientError","resource":"invoke","resourceType":"lambda"},"timestamp":"2024-09-20T18:33:35.234Z","type":"TaskFailed","redriveId":0,"stepName":"Serialize Image Data"}],"redriveCount":0,"resource":{"parameters":{"FunctionName":"arn:aws:lambda:us-east-1:009079148196:function:serializeImageData:$LATEST","Payload":{"image_data":"","s3_bucket":"sagemaker-us-east-1-009079148196","s3_key":"test/bicycle_s_000513.png"}},"region":"us-east-1","resource":"invoke","resourceType":"lambda"},"meta":{"id":0,"expandable":false,"expanded":false,"matched":true,"lastChild":true,"hasDisplayedChildren":false,"path":"[\"Serialize Image Data\"]"}}}}},"stateMachine":{"$metadata":{"httpStatusCode":200,"requestId":"a3be6816-727d-48ab-a002-cc2790523137","attempts":1,"totalRetryDelay":0},"definition":"{\"Comment\":\"A description of my state machine\",\"StartAt\":\"Serialize Image Data\",\"States\":{\"Serialize Image Data\":{\"Type\":\"Task\",\"Resource\":\"arn:aws:states:::lambda:invoke\",\"OutputPath\":\"$.Payload\",\"Parameters\":{\"Payload.$\":\"$\",\"FunctionName\":\"arn:aws:lambda:us-east-1:009079148196:function:serializeImageData:$LATEST\"},\"Retry\":[{\"ErrorEquals\":[\"Lambda.ServiceException\",\"Lambda.AWSLambdaException\",\"Lambda.SdkClientException\",\"Lambda.TooManyRequestsException\"],\"IntervalSeconds\":1,\"MaxAttempts\":3,\"BackoffRate\":2}],\"Next\":\"Classify Image Data\"},\"Classify Image Data\":{\"Type\":\"Task\",\"Resource\":\"arn:aws:states:::lambda:invoke\",\"OutputPath\":\"$.Payload\",\"Parameters\":{\"Payload.$\":\"$\",\"FunctionName\":\"arn:aws:lambda:us-east-1:009079148196:function:classifyImageData:$LATEST\"},\"Retry\":[{\"ErrorEquals\":[\"Lambda.ServiceException\",\"Lambda.AWSLambdaException\",\"Lambda.SdkClientException\",\"Lambda.TooManyRequestsException\"],\"IntervalSeconds\":1,\"MaxAttempts\":3,\"BackoffRate\":2}],\"Next\":\"Filter Inferences\"},\"Filter Inferences\":{\"Type\":\"Task\",\"Resource\":\"arn:aws:states:::lambda:invoke\",\"OutputPath\":\"$.Payload\",\"Parameters\":{\"Payload.$\":\"$\",\"FunctionName\":\"arn:aws:lambda:us-east-1:009079148196:function:filterInferences:$LATEST\"},\"Retry\":[{\"ErrorEquals\":[\"Lambda.ServiceException\",\"Lambda.AWSLambdaException\",\"Lambda.SdkClientException\",\"Lambda.TooManyRequestsException\"],\"IntervalSeconds\":1,\"MaxAttempts\":3,\"BackoffRate\":2}],\"End\":true}}}","encryptionConfiguration":{"__type":"com.amazonaws.swf.base.model#EncryptionConfiguration","type":"AWS_OWNED_KEY"},"loggingConfiguration":{"__type":"com.amazonaws.swf.base.model#LoggingConfiguration","includeExecutionData":false,"level":"OFF"},"name":"MyStateMachine-2whmr2d5a","roleArn":"arn:aws:iam::009079148196:role/service-role/StepFunctions-MyStateMachine-2whmr2d5a-role-dud7l3suq","stateMachineArn":"arn:aws:states:us-east-1:009079148196:stateMachine:MyStateMachine-2whmr2d5a","tracingConfiguration":{"__type":"com.amazonaws.swf.base.model#TracingConfiguration","enabled":false},"updateDate":"2024-09-20T18:28:05.571Z"},"status":"3","transitionCount":3,"eventCount":6,"type":"standard","eventStatus":1,"hasDistributedMap":false,"isChildExecutionOfDistributedMap":false,"isExecutionRedriven":false,"aslVersion":"1.0","executionArn":"arn:aws:states:us-east-1:009079148196:execution:MyStateMachine-2whmr2d5a:6c1e42fd-42a9-4984-a988-cf286dd4413c"}